(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[41],{xx1X:function(e,a,t){"use strict";var n=t("g09b");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var s=n(t("p0pE")),l=n(t("d6i3")),o=n(t("qIgq")),r=t("dCQc"),c={namespace:"basic",state:{data:{list:[],pagination:{}}},effects:{fetch:l.default.mark(function e(a,t){var n,s,c,i,p,d,u,f;return l.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=a.payload,s=t.all,c=t.call,i=t.put,console.log("list basic effects payload",n),e.next=5,s([c(r.getItems,n),c(r.getSalesItems)]);case 5:return p=e.sent,d=(0,o.default)(p,2),u=d[0],f=d[1],console.log("list gotItems gotSalesItems",u,f),e.next=12,i({type:"save",payload:{items:u.list,category:f.list,pagination:u.pagination}});case 12:case"end":return e.stop()}},e)}),load:l.default.mark(function e(a,t){var n,s,o,c;return l.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=a.payload,s=t.call,o=t.put,e.next=4,s(r.getSalesItems,n);case 4:return c=e.sent,console.log(" basic getSalesItems response",c),e.next=8,o({type:"save",payload:c});case 8:case"end":return e.stop()}},e)}),search:l.default.mark(function e(a,t){var n,s,o,c,i;return l.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=a.payload,s=a.callback,o=t.call,c=t.put,console.log(" basic searchItems value",n),e.next=5,o(r.searchItems,n);case 5:return i=e.sent,console.log(" basic searchItems response",i),e.next=9,c({type:"save",payload:{items:i.list}});case 9:s&&s();case 10:case"end":return e.stop()}},e)}),add:l.default.mark(function e(a,t){var n,s,o,c,i;return l.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=a.payload,s=a.callback,o=t.call,c=t.put,console.log("list add payload",n),e.next=5,o(r.postItem,n);case 5:return i=e.sent,e.next=8,c({type:"append",payload:i});case 8:s&&s();case 9:case"end":return e.stop()}},e)}),remove:l.default.mark(function e(a,t){var n,s,o,c,i,p;return l.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=a.payload,s=a.callback,o=t.call,c=t.put,console.log("list remove payload",n),e.next=5,o(r.deleteItem,n);case 5:return i=e.sent,console.log("list remove response",i),e.next=9,o(r.searchItems,n);case 9:return p=e.sent,e.next=12,c({type:"delete",payload:p});case 12:s&&s();case 13:case"end":return e.stop()}},e)}),update:l.default.mark(function e(a,t){var n,s,o,c,i;return l.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=a.payload,s=a.callback,o=t.call,c=t.put,console.log("list basic update",n),e.next=5,o(r.putItem,n.code,n);case 5:return i=e.sent,e.next=8,c({type:"replace",payload:i});case 8:s&&s();case 9:case"end":return e.stop()}},e)})},reducers:{save:function(e,a){var t=a.payload;return(0,s.default)({},e,t)},append:function(e,a){console.log("list models append action ",a);var t=e.data.list;console.log("list models append list ",t),e.items.unshift(a.payload);var n=e.data.pagination.total+1;return(0,s.default)({},e,{data:{list:t,pagination:(0,s.default)({},e.data.pagination,{total:n})}})},delete:function(e,a){var t=e.data.list;console.log("list models append state ",e),console.log("list models append action ",a),e.items.splice(a.payload,1);var n=e.data.pagination.total-1;return(0,s.default)({},e,{data:{list:t,pagination:(0,s.default)({},e.data.pagination,{total:n})}})},replace:function(e,a){var t=e.data.list;return t.splice(a.payload.editableIndex,1,a.payload.response),(0,s.default)({},e,{data:{list:t,pagination:(0,s.default)({},e.data.pagination)}})}}};a.default=c}}]);