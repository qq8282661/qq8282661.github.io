(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[24],{LARd:function(e,t,a){e.exports={standardList:"antd-pro-pages-customer-ordinary-standardList",headerInfo:"antd-pro-pages-customer-ordinary-headerInfo",listContent:"antd-pro-pages-customer-ordinary-listContent",listContentItem:"antd-pro-pages-customer-ordinary-listContentItem",extraContentSearch:"antd-pro-pages-customer-ordinary-extraContentSearch",listCard:"antd-pro-pages-customer-ordinary-listCard",standardListForm:"antd-pro-pages-customer-ordinary-standardListForm",formResult:"antd-pro-pages-customer-ordinary-formResult"}},uOzw:function(e,t,a){"use strict";var n=a("g09b"),l=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("IzEo");var r=n(a("bx4M"));a("Mwp2");var d=n(a("VXEj"));a("Telt");var o=n(a("Tckk")),i=n(a("jehZ"));a("+L6B");var u=n(a("2/Rp"));a("2qtc");var s=n(a("kLXV")),c=n(a("p0pE")),f=n(a("2Taf")),m=n(a("vZ4D")),p=n(a("l4Ni")),h=n(a("ujKo")),y=n(a("MhPg"));a("5NDa");var v=n(a("5rEg"));a("y8nQ");var E,g,b,C,w=n(a("Vl3Y")),k=l(a("q1tI")),S=a("i8i4"),x=a("MuoO"),I=n(a("zHco")),L=n(a("ALo4")),M=n(a("LARd")),N=w.default.Item,D=v.default.Search,T=(E=(0,x.connect)(function(e){var t=e.ordinary,a=e.loading;return{ordinary:t,loading:a.models.list}}),g=w.default.create(),E(b=g((C=function(e){function t(){var e,a;(0,f.default)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return a=(0,p.default)(this,(e=(0,h.default)(t)).call.apply(e,[this].concat(l))),a.state={visible:!1,done:!1},a.formLayout={labelCol:{span:7},wrapperCol:{span:13}},a.showModal=function(){a.setState({visible:!0,current:void 0})},a.showEditModal=function(e){a.setState({visible:!0,current:e})},a.handleDone=function(){setTimeout(function(){return a.addBtn.blur()},0),a.setState({done:!1,visible:!1})},a.handleCancel=function(){setTimeout(function(){return a.addBtn.blur()},0),a.setState({visible:!1})},a.handleSubmit=function(e){e.preventDefault();var t=a.props,n=t.dispatch,l=t.form,r=a.state.current,d=r?r.id:"";setTimeout(function(){return a.addBtn.blur()},0),l.validateFields(function(e,t){e||(a.setState({done:!0}),n({type:"ordinary/submit",payload:(0,c.default)({id:d},t)}))})},a.deleteItem=function(e){var t=a.props.dispatch;t({type:"ordinary/submit",payload:{id:e}})},a.searchUsers=function(e){console.log("customer ordinary value",e);var t=a.props.dispatch;t({type:"ordinary/search",payload:e})},a}return(0,y.default)(t,e),(0,m.default)(t,[{key:"componentDidMount",value:function(){var e=this.props.dispatch;e({type:"ordinary/fetch"})}},{key:"render",value:function(){var e=this,t=this.props,a=t.ordinary.data,n=t.loading,l=this.props.form.getFieldDecorator,c=this.state,f=c.visible,m=c.done,p=c.current,h=void 0===p?{}:p,y=function(t,a){"edit"===t?e.showEditModal(a):"delete"===t&&s.default.confirm({title:"\u5220\u9664\u666e\u901a\u7528\u6237",content:"\u786e\u5b9a\u5220\u9664\u8be5\u666e\u901a\u7528\u6237\u5417\uff1f",okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",onOk:function(){return e.deleteItem(a.id)}})},E=m?{footer:null,onCancel:this.handleDone}:{okText:"\u4fdd\u5b58",onOk:this.handleSubmit,onCancel:this.handleCancel},g=k.default.createElement("div",{className:M.default.extraContent},k.default.createElement(D,{className:M.default.extraContentSearch,placeholder:"\u8bf7\u8f93\u5165",onSearch:this.searchUsers})),b=function(e){var t=e.data,a=t.phone,n=t.point;return k.default.createElement("div",{className:M.default.listContent},k.default.createElement("div",{className:M.default.listContentItem},k.default.createElement("span",null,"\u624b\u673a\u53f7\u7801"),k.default.createElement("p",null,a)),k.default.createElement("div",{className:M.default.listContentItem},k.default.createElement("span",null,"\u79ef\u5206\u7edf\u8ba1"),k.default.createElement("p",null,n)))},C=function(e){return k.default.createElement("a",{onClick:function(t){var a=t.key;return y(a,e.current)}},"\u5220\u9664")},x=function(){return m?k.default.createElement(L.default,{type:"success",title:"\u64cd\u4f5c\u6210\u529f",description:"\u4e00\u7cfb\u5217\u7684\u4fe1\u606f\u63cf\u8ff0\uff0c\u5f88\u77ed\u540c\u6837\u4e5f\u53ef\u4ee5\u5e26\u6807\u70b9\u3002",actions:k.default.createElement(u.default,{type:"primary",onClick:e.handleDone},"\u77e5\u9053\u4e86"),className:M.default.formResult}):k.default.createElement(w.default,{onSubmit:e.handleSubmit},k.default.createElement(N,(0,i.default)({label:"\u666e\u901a\u7528\u6237\u540d\u79f0"},e.formLayout),l("title",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u666e\u901a\u7528\u6237\u540d\u79f0"}],initialValue:h.title})(k.default.createElement(v.default,{placeholder:"\u8bf7\u8f93\u5165"}))),k.default.createElement(N,(0,i.default)({label:"\u666e\u901a\u7528\u6237\u5185\u5bb9"},e.formLayout),l("content",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u666e\u901a\u7528\u6237\u5185\u5bb9"}],initialValue:h.content})(k.default.createElement(v.default,{placeholder:"\u8bf7\u8f93\u5165"}))))};return k.default.createElement(I.default,null,k.default.createElement("div",{className:M.default.standardList},k.default.createElement(r.default,{className:M.default.listCard,bordered:!1,title:"\u666e\u901a\u7528\u6237\u5217\u8868",style:{marginTop:24},bodyStyle:{padding:"0 32px 40px 32px"},extra:g},k.default.createElement(u.default,{type:"dashed",style:{width:"100%",marginBottom:8},icon:"plus",onClick:this.showModal,ref:function(t){e.addBtn=(0,S.findDOMNode)(t)}},"\u6dfb\u52a0"),k.default.createElement(d.default,{size:"large",rowKey:"id",loading:n,pagination:a.pagination,dataSource:a.list,renderItem:function(t){return k.default.createElement(d.default.Item,{actions:[k.default.createElement("a",{onClick:function(a){a.preventDefault(),e.showEditModal(t)}},"\u7f16\u8f91"),k.default.createElement(C,{current:t})]},k.default.createElement(d.default.Item.Meta,{avatar:k.default.createElement(o.default,{src:t.logo,shape:"square",size:"large"}),title:k.default.createElement("a",{href:t.href},t.nickname),description:t.subDescription}),k.default.createElement(b,{data:t}))}}))),k.default.createElement(s.default,(0,i.default)({title:m?null:"\u666e\u901a\u7528\u6237".concat(h?"\u7f16\u8f91":"\u6dfb\u52a0"),className:M.default.standardListForm,width:640,bodyStyle:m?{padding:"72px 0"}:{padding:"28px 0 0"},destroyOnClose:!0,visible:f},E),x()))}}]),t}(k.PureComponent),b=C))||b)||b),O=T;t.default=O}}]);