(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[4],{"67Kn":function(e,a,t){"use strict";var n=t("g09b");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var l=n(t("p0pE")),r=n(t("d6i3")),c=t("dCQc"),o={namespace:"pictures",state:{data:{list:[],pagination:{}}},effects:{fetch:r.default.mark(function e(a,t){var n,l,o,s;return r.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=a.payload,l=t.call,o=t.put,e.next=4,l(c.getBanners,"top",n);case 4:return s=e.sent,console.log("response",s),e.next=8,o({type:"save",payload:s});case 8:case"end":return e.stop()}},e)}),add:r.default.mark(function e(a,t){var n,l,o,s,d;return r.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=a.payload,l=a.callback,o=t.call,s=t.put,e.next=4,o(c.postBanner,n);case 4:return d=e.sent,e.next=7,s({type:"append",payload:d});case 7:l&&l();case 8:case"end":return e.stop()}},e)}),remove:r.default.mark(function e(a,t){var n,l,o,s,d,i;return r.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=a.payload,l=a.callback,o=t.call,s=t.put,d=t.select,console.log("content pictures index",n),e.next=5,d(function(e){return e.pictures.data.list});case 5:return i=e.sent,console.log("content pictures list",i),console.log("content pictures list[index].id",i[n].id),e.next=10,o(c.deleteBanner,i[n].id);case 10:return e.next=12,s({type:"delete",payload:n});case 12:l&&l();case 13:case"end":return e.stop()}},e)}),update:r.default.mark(function e(a,t){var n,l,o,s,d;return r.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=a.payload,l=a.callback,o=t.call,s=t.put,console.log("content pictures updata payload",n),e.next=5,o(c.putBanner,n.id,n);case 5:return d=e.sent,e.next=8,s({type:"replace",payload:{editableIndex:n.editableIndex,response:d}});case 8:l&&l();case 9:case"end":return e.stop()}},e)})},reducers:{save:function(e,a){return(0,l.default)({},e,{data:a.payload})},append:function(e,a){var t=e.data.list;t.unshift(a.payload);var n=e.data.pagination.total+1;return(0,l.default)({},e,{data:{list:t,pagination:(0,l.default)({},e.data.pagination,{total:n})}})},delete:function(e,a){var t=e.data.list;t.splice(a.payload,1);var n=e.data.pagination.total-1;return(0,l.default)({},e,{data:{list:t,pagination:(0,l.default)({},e.data.pagination,{total:n})}})},replace:function(e,a){var t=e.data.list;return console.log("content pictures replace list",t),t.splice(a.payload.editableIndex,1,a.payload.response),(0,l.default)({},e,{data:{list:t,pagination:(0,l.default)({},e.data.pagination)}})}}};a.default=o}}]);