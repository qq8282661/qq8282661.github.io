(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{886:function(e,t,n){},890:function(e,t,n){"use strict";n.r(t);var o=n(17),a=n.n(o),r=n(22),i=n.n(r),l=n(0),c=n.n(l),u=n(12),s=n.n(u),d=n(6),p=n(13),f=n.n(p),m=n(23),h=n.n(m);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function E(e,t,n){return t&&v(e.prototype,t),n&&v(e,n),e}function S(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?w(e):t}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function C(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}function O(e,t){return(O=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}var k=function(e){function t(e){var n;return b(this,t),(n=S(this,g(t).call(this,e))).editThisCell=function(){n.tempValue=n.state.value,n.setState({editMode:!0})},n.onValueChange=function(e){n.setState({value:e})},n.updateValue=function(){n.setState({editMode:!1});var e=n.props,t=e.index,o=e.valueKey,a=n.state.value;n.props.onChange&&n.props.onChange(t,o,a)},n.rollBackThisCell=function(){n.setState({value:n.tempValue,editMode:!1}),n.tempValue=""},n.tempValue="",n.state={editMode:!1,value:e.value||""},n}return C(t,e),E(t,[{key:"componentWillReceiveProps",value:function e(t){"value"in t&&this.setState({value:t.value})}},{key:"render",value:function e(){var t=this.state,n=t.value,o;return t.editMode?c.a.createElement("div",{className:"celleditor"},c.a.createElement(h.a,{style:_.cellInput,value:n,onChange:this.onValueChange}),c.a.createElement("span",{style:_.operationIcon,title:"\u786e\u5b9a",onClick:this.updateValue},c.a.createElement(f.a,{size:"xs",type:"select"})),c.a.createElement("span",{style:_.operationIcon,title:"\u64a4\u9500",onClick:this.rollBackThisCell},c.a.createElement(f.a,{size:"xs",type:"refresh"}))):c.a.createElement("div",{className:"celleditor"},c.a.createElement("span",null,n),c.a.createElement("span",{style:_.operationIcon,className:"celleditor-trigger",title:"\u7f16\u8f91",onClick:this.editThisCell},c.a.createElement(f.a,{size:"xs",type:"edit"})))}}]),t}(l.Component);k.displayName="CellEditor";var _={cellInput:{width:"calc(100% - 44px)"},operationIcon:{marginLeft:"10px",color:"#999",cursor:"pointer"}},j=n(886),x,I,P;function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function N(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function M(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function V(e,t,n){return t&&M(e.prototype,t),n&&M(e,n),e}function z(e,t){return!t||"object"!==T(t)&&"function"!=typeof t?F(e):t}function B(e){return(B=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function F(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&A(e,t)}function A(e,t){return(A=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}var D=Object(d.d)((P=I=function(e){function t(e){var n;N(this,t),(n=z(this,B(t).call(this,e))).renderOrder=function(e,t){return c.a.createElement("span",null,t)},n.deleteItem=function(e){n.state.dataSource.splice(e,1),n.setState({dataSource:n.state.dataSource})},n.renderOperation=function(e,t){return c.a.createElement(i.a,{type:"primary",onClick:n.deleteItem.bind(F(n),t)},c.a.createElement(d.a,{id:"app.dashboard.todo.delete"}))},n.changeDataSource=function(e,t,o){n.state.dataSource[e][t]=o,n.setState({dataSource:n.state.dataSource})},n.renderEditor=function(e,t,o,a){return c.a.createElement(k,{valueKey:e,index:o,value:a[e],onChange:n.changeDataSource})},n.addNewItem=function(){var e,t=(0,n.props.intl.formatMessage)({id:"app.dashboard.todo.empty"});n.state.dataSource.push({todo:t,remark:t,validity:t}),n.setState({dataSource:n.state.dataSource})};var o=e.intl.formatMessage,a=function e(){return Array.from({length:5}).map(function(e,t){return{todo:"".concat(o({id:"app.dashboard.todo.item.value"})," ").concat(t),remark:"".concat(o({id:"app.dashboard.todo.remark.value"})," ").concat(t),validity:"2017-12-12"}})};return n.state={dataSource:a()},n}return R(t,e),V(t,[{key:"render",value:function e(){var t=this.props.intl.formatMessage;return c.a.createElement(s.a,{title:t({id:"app.dashboard.todo.title"})},c.a.createElement(a.a,{dataSource:this.state.dataSource,hasBorder:!1,className:"editable-table"},c.a.createElement(a.a.Column,{width:80,title:t({id:"app.dashboard.todo.index"}),cell:this.renderOrder}),c.a.createElement(a.a.Column,{width:280,title:t({id:"app.dashboard.todo.index"}),cell:this.renderEditor.bind(this,"todo")}),c.a.createElement(a.a.Column,{width:240,title:t({id:"app.dashboard.todo.remark"}),cell:this.renderEditor.bind(this,"remark")}),c.a.createElement(a.a.Column,{width:180,title:t({id:"app.dashboard.todo.time"}),cell:this.renderEditor.bind(this,"validity")}),c.a.createElement(a.a.Column,{title:t({id:"app.dashboard.todo.oper"}),width:80,cell:this.renderOperation})),c.a.createElement("div",{onClick:this.addNewItem,style:J.addNewItem},"+ ",c.a.createElement(d.a,{id:"app.dashboard.todo.newline"})))}}]),t}(l.Component),I.displayName="EditableTable",I.propTypes={},I.defaultProps={},x=P))||x,J={addNewItem:{background:"#F5F5F5",height:32,lineHeight:"32px",marginTop:20,cursor:"pointer",textAlign:"center"}},K=t.default=D}}]);